{"ast":null,"code":"import * as am5 from \"@amcharts/amcharts5\";\nimport * as am5xy from \"@amcharts/amcharts5/xy\";\nimport am5themes_Animated from \"@amcharts/amcharts5/themes/Animated\";\nexport default {\n  name: 'AnalyticsPage',\n\n  beforeCreate() {\n    if (!localStorage.getItem('leadhit-site-id')) {\n      this.$router.push({\n        name: \"home\"\n      });\n    }\n  },\n\n  mounted() {\n    const data = this.$store.state.date.map(e => ({\n      date: Date.parse(e.date),\n      value: e.visits\n    }));\n    const root = am5.Root.new(\"root\");\n    root.setThemes([am5themes_Animated.new(root)]);\n    const chart = root.container.children.push(am5xy.XYChart.new(root, {\n      panY: false,\n      wheelY: \"zoomX\",\n      layout: root.verticalLayout,\n      maxTooltipDistance: 1\n    })); // Create Y-axis\n\n    const yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {\n      extraTooltipPrecision: 1,\n      renderer: am5xy.AxisRendererY.new(root, {})\n    })); // Create X-Axis\n\n    const xAxis = chart.xAxes.push(am5xy.DateAxis.new(root, {\n      baseInterval: {\n        timeUnit: \"day\",\n        count: 1\n      },\n      renderer: am5xy.AxisRendererX.new(root, {})\n    }));\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MMMM\"; // Create series\n\n    function createSeries(name, field) {\n      const series = chart.series.push(am5xy.LineSeries.new(root, {\n        name: name,\n        xAxis: xAxis,\n        yAxis: yAxis,\n        valueYField: field,\n        valueXField: \"date\",\n        tooltip: am5.Tooltip.new(root, {})\n      }));\n      series.bullets.push(function () {\n        return am5.Bullet.new(root, {\n          sprite: am5.Circle.new(root, {\n            radius: 6,\n            fill: series.get(\"fill\")\n          })\n        });\n      });\n      series.strokes.template.set(\"strokeWidth\", 2);\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\");\n      series.data.setAll(data);\n    }\n\n    createSeries(\"Series\", \"value\"); // Add cursor\n\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\n      behavior: \"zoomXY\",\n      xAxis: xAxis\n    }));\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\n      themeTags: [\"axis\"]\n    }));\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\n      themeTags: [\"axis\"]\n    }));\n  }\n\n};","map":{"version":3,"mappings":"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","names":["am5","am5xy","am5themes_Animated","name","beforeCreate","localStorage","getItem","$router","push","mounted","data","$store","state","date","map","e","Date","parse","value","visits","root","Root","new","setThemes","chart","container","children","XYChart","panY","wheelY","layout","verticalLayout","maxTooltipDistance","yAxis","yAxes","ValueAxis","extraTooltipPrecision","renderer","AxisRendererY","xAxis","xAxes","DateAxis","baseInterval","timeUnit","count","AxisRendererX","get","createSeries","field","series","LineSeries","valueYField","valueXField","tooltip","Tooltip","bullets","Bullet","sprite","Circle","radius","fill","strokes","template","set","label","setAll","XYCursor","behavior","themeTags"],"sourceRoot":"","sources":["D:\\lead-hit\\src\\pages\\AnalyticsPage.vue"],"sourcesContent":["<template>\r\n    <h1>Аналитика</h1>\r\n    <section class=\"charts__section\">\r\n        <h2 class=\"charts__title\">Аналитика по визитам</h2>\r\n        <div id=\"root\" class=\"charts__root\"></div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n\r\nimport * as am5 from \"@amcharts/amcharts5\";\r\nimport * as am5xy from \"@amcharts/amcharts5/xy\";\r\nimport am5themes_Animated from \"@amcharts/amcharts5/themes/Animated\";\r\n\r\nexport default {\r\n    name: 'AnalyticsPage',\r\n\r\n    beforeCreate() {\r\n        if (!localStorage.getItem('leadhit-site-id')) {\r\n            this.$router.push({ name: \"home\" });\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n    \r\n        const data = this.$store.state.date.map(e => ({\r\n            date: Date.parse(e.date),\r\n            value: e.visits\r\n        }));\r\n\r\n        const root = am5.Root.new(\"root\");\r\n        root.setThemes([am5themes_Animated.new(root)]);\r\n\r\n        const chart = root.container.children.push(\r\n            am5xy.XYChart.new(root, {\r\n                panY: false,\r\n                wheelY: \"zoomX\",\r\n                layout: root.verticalLayout,\r\n                maxTooltipDistance: 1\r\n            })\r\n        );\r\n\r\n        // Create Y-axis\r\n        const yAxis = chart.yAxes.push(\r\n            am5xy.ValueAxis.new(root, {\r\n                extraTooltipPrecision: 1,\r\n                renderer: am5xy.AxisRendererY.new(root, {})\r\n            })\r\n        );\r\n\r\n        // Create X-Axis\r\n        const xAxis = chart.xAxes.push(\r\n            am5xy.DateAxis.new(root, {\r\n                baseInterval: { timeUnit: \"day\", count: 1 },\r\n                renderer: am5xy.AxisRendererX.new(root, {})\r\n            })\r\n        );\r\n\r\n        xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n        xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MMMM\";\r\n\r\n        // Create series\r\n        function createSeries(name, field) {\r\n            const series = chart.series.push(\r\n                am5xy.LineSeries.new(root, {\r\n                    name: name,\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    tooltip: am5.Tooltip.new(root, {})\r\n                })\r\n            );\r\n\r\n            series.bullets.push(function () {\r\n                return am5.Bullet.new(root, {\r\n                    sprite: am5.Circle.new(root, {\r\n                        radius: 6,\r\n                        fill: series.get(\"fill\")\r\n                    })\r\n                });\r\n            });\r\n\r\n            series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n            series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n            series.data.setAll(data);\r\n        }\r\n\r\n        createSeries(\"Series\", \"value\");\r\n\r\n        // Add cursor\r\n        chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n            behavior: \"zoomXY\",\r\n            xAxis: xAxis\r\n        }));\r\n\r\n        xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n            themeTags: [\"axis\"]\r\n        }));\r\n\r\n        yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n            themeTags: [\"axis\"]\r\n        }));\r\n        \r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n.charts__root {\r\n    width: 100%;\r\n    height: 60vh;\r\n    margin: auto;\r\n}\r\n.charts__section {\r\n    border: 2px solid orange;\r\n    border-radius: 14px;\r\n   background-color: rgba(183, 190, 189, 0.294);\r\n}\r\n\r\n.charts__title {\r\n    color: white;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}